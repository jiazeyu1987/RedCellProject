<!-- åŒ»é™¢æŒ‚å·é¡µé¢ -->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input">
      <text class="search-icon">ğŸ”</text>
      <input placeholder="æœç´¢åŒ»é™¢ã€ç§‘å®¤æˆ–åŒ»ç”Ÿ" value="{{searchKeyword}}" bindinput="onSearchInput" bindconfirm="performSearch"/>
    </view>
  </view>

  <!-- åŒ»é™¢åˆ—è¡¨ -->
  <view class="hospital-list">
    <view class="hospital-item" wx:for="{{hospitalList}}" wx:key="id" bindtap="selectHospital" data-hospital="{{item}}">
      <text class="hospital-logo">{{item.logo}}</text>
      <view class="hospital-info">
        <text class="hospital-name">{{item.name}}</text>
        <text class="hospital-level">{{item.level}} | {{item.type}}</text>
        <text class="hospital-address">{{item.address}}</text>
        <view class="hospital-tags">
          <text class="tag" wx:for="{{item.specialties}}" wx:key="index" wx:for-item="specialty">{{specialty}}</text>
        </view>
      </view>
      <view class="hospital-actions">
        <text class="distance" wx:if="{{item.distance}}">{{item.distance}}km</text>
        <text class="arrow">></text>
      </view>
    </view>
  </view>

  <!-- å¿«é€Ÿå…¥å£ -->
  <view class="quick-access" wx:if="{{!searchKeyword}}">
    <view class="section-title">å¿«é€Ÿé¢„çº¦</view>
    <view class="quick-departments">
      <view class="dept-item" wx:for="{{quickDepartments}}" wx:key="name" bindtap="quickBookDepartment" data-dept="{{item}}">
        <text class="dept-icon">{{item.icon}}</text>
        <text class="dept-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- æœåŠ¡è¯´æ˜ -->
  <view class="service-info" wx:if="{{!searchKeyword}}">
    <view class="section-title">ç»¿è‰²é€šé“æœåŠ¡</view>
    <view class="info-card">
      <view class="info-item">
        <view class="info-icon">ğŸ¥</view>
        <view class="info-content">
          <text class="info-title">åˆä½œåŒ»é™¢</text>
          <text class="info-desc">ä¸å¤šå®¶ä¸‰ç”²åŒ»é™¢å»ºç«‹åˆä½œå…³ç³»</text>
        </view>
      </view>
      <view class="info-item">
        <view class="info-icon">âš¡</view>
        <view class="info-content">
          <text class="info-title">å¿«é€ŸæŒ‚å·</text>
          <text class="info-desc">äº«å—ä¼˜å…ˆæŒ‚å·æœåŠ¡ï¼Œçœæ—¶çœåŠ›</text>
        </view>
      </view>
      <view class="info-item">
        <view class="info-icon">ğŸš—</view>
        <view class="info-content">
          <text class="info-title">ä¸“è½¦æ¥é€</text>
          <text class="info-desc">æä¾›ä¸“è½¦æ¥é€é™ªè¯ŠæœåŠ¡</text>
        </view>
      </view>
    </view>
  </view>
</view>

<!-- åŒ»é™¢è¯¦æƒ…å¼¹çª— -->
<view class="modal-overlay" wx:if="{{showHospitalModal}}" bindtap="closeHospitalModal">
  <view class="hospital-modal" catchtap="">
    <view class="modal-header">
      <text class="modal-title">{{selectedHospital.name}}</text>
      <text class="modal-close" bindtap="closeHospitalModal">Ã—</text>
    </view>
    
    <view class="modal-content">
      <view class="hospital-detail">
        <view class="detail-row">
          <text class="detail-label">åŒ»é™¢ç­‰çº§ï¼š</text>
          <text class="detail-value">{{selectedHospital.level}}</text>
        </view>
        <view class="detail-row">
          <text class="detail-label">åŒ»é™¢ç±»å‹ï¼š</text>
          <text class="detail-value">{{selectedHospital.type}}</text>
        </view>
        <view class="detail-row">
          <text class="detail-label">åŒ»é™¢åœ°å€ï¼š</text>
          <text class="detail-value">{{selectedHospital.address}}</text>
        </view>
        <view class="detail-row">
          <text class="detail-label">è”ç³»ç”µè¯ï¼š</text>
          <text class="detail-value phone" bindtap="callHospital">{{selectedHospital.phone}}</text>
        </view>
      </view>

      <!-- ç§‘å®¤åˆ—è¡¨ -->
      <view class="departments-section">
        <text class="section-subtitle">é€‰æ‹©ç§‘å®¤</text>
        <view class="departments-grid">
          <view class="dept-card" wx:for="{{selectedHospital.departments}}" wx:key="id" 
                bindtap="selectDepartment" data-dept="{{item}}">
            <text class="dept-card-name">{{item.name}}</text>
            <text class="dept-card-info">ä¸“å®¶{{item.expertCount}}äºº</text>
            <text class="dept-card-status {{item.available ? 'available' : 'unavailable'}}">
              {{item.available ? 'å¯é¢„çº¦' : 'æš‚æ»¡'}}
            </text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>