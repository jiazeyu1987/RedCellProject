<!-- 个人中心页面 -->
<view class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card" wx:if="{{userInfo}}">
    <view class="user-header">
      <text class="user-avatar">{{userInfo.avatarUrl || '👤'}}</text>
      <view class="user-info">
        <text class="user-name">{{userInfo.nickName || '用户'}}</text>
        <text class="user-phone">{{userInfo.phone || '未绑定手机'}}</text>
        <text class="member-level">{{memberLevel}}</text>
      </view>
      <text class="edit-icon" bindtap="editProfile">></text>
    </view>
    
    <view class="user-stats">
      <view class="stat-item" bindtap="viewServiceHistory">
        <text class="stat-number">{{serviceCount}}</text>
        <text class="stat-label">服务次数</text>
      </view>
      <view class="stat-item" bindtap="viewHealthRecords">
        <text class="stat-number">{{recordCount}}</text>
        <text class="stat-label">健康记录</text>
      </view>
      <view class="stat-item" bindtap="viewCommunityPosts">
        <text class="stat-number">{{postCount}}</text>
        <text class="stat-label">社区动态</text>
      </view>
    </view>
  </view>

  <!-- 未登录状态 -->
  <view class="login-prompt" wx:if="{{!userInfo}}">
    <text class="login-icon">👤</text>
    <text class="login-text">登录后查看更多功能</text>
    <button class="login-btn" bindtap="goToLogin">立即登录</button>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view class="menu-group">
      <text class="group-title">我的服务</text>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/service-record/index">
        <text class="menu-icon">📋</text>
        <text class="menu-text">服务记录</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/booking-history/index">
        <text class="menu-icon">📅</text>
        <text class="menu-text">预约历史</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/address-management/index">
        <text class="menu-icon">📍</text>
        <text class="menu-text">地址管理</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <text class="group-title">健康管理</text>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/health-report/index">
        <text class="menu-icon">📈</text>
        <text class="menu-text">健康报告</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/health-plan/index">
        <text class="menu-icon">🎯</text>
        <text class="menu-text">健康计划</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/family-members/index">
        <text class="menu-icon">👨‍👩‍👧‍👦</text>
        <text class="menu-text">家庭成员</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <text class="group-title">客户服务</text>
      <view class="menu-item" bindtap="contactService">
        <text class="menu-icon">📞</text>
        <text class="menu-text">联系客服</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/feedback/index">
        <text class="menu-icon">📝</text>
        <text class="menu-text">意见反馈</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/help/index">
        <text class="menu-icon">❓</text>
        <text class="menu-text">帮助中心</text>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <text class="group-title">设置</text>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/settings/index">
        <text class="menu-icon">⚙️</text>
        <text class="menu-text">设置</text>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="navigateTo" data-url="/pages/about/index">
        <text class="menu-icon">ℹ️</text>
        <text class="menu-text">关于我们</text>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>

  <!-- 退出登录按钮 -->
  <view class="logout-section" wx:if="{{userInfo}}">
    <button class="logout-btn" bindtap="logout">退出登录</button>
  </view>
</view>