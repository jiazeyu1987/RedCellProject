<!-- 首页 -->
<view class="container">
  <!-- 头部轮播图 -->
  <view class="banner-section">
    <swiper class="banner-swiper" indicator-dots="true" autoplay="true" interval="3000" duration="500">
      <swiper-item wx:for="{{bannerList}}" wx:key="index">
        <view class="banner-image">
          <text class="banner-emoji">{{item.image}}</text>
        </view>
        <view class="banner-overlay">
          <text class="banner-title">{{item.title}}</text>
          <text class="banner-desc">{{item.description}}</text>
        </view>
      </swiper-item>
    </swiper>
  </view>

  <!-- 快速服务入口 -->
  <view class="quick-services">
    <view class="section-title">快速服务</view>
    <view class="service-grid">
      <view class="service-item" wx:for="{{quickServices}}" wx:key="id" bindtap="onQuickServiceTap" data-service="{{item}}">
        <view class="service-icon">
          <text class="service-emoji">{{item.icon}}</text>
        </view>
        <text class="service-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- 健康监测卡片 -->
  <view class="health-card" wx:if="{{userInfo}}">
    <view class="card-header">
      <text class="card-title">今日健康概况</text>
      <text class="card-date">{{todayDate}}</text>
    </view>
    <view class="health-stats">
      <view class="stat-item">
        <text class="stat-value">{{healthData.bloodPressure || '--'}}</text>
        <text class="stat-label">血压 (mmHg)</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{healthData.bloodSugar || '--'}}</text>
        <text class="stat-label">血糖 (mmol/L)</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{healthData.heartRate || '--'}}</text>
        <text class="stat-label">心率 (次/分)</text>
      </view>
    </view>
    <view class="health-actions">
      <button class="action-btn secondary" bindtap="viewHealthRecord">查看详情</button>
      <button class="action-btn primary" bindtap="quickBooking">立即预约</button>
    </view>
  </view>

  <!-- 登录提示卡片 -->
  <view class="login-card" wx:if="{{!userInfo}}">
    <view class="login-content">
      <text class="login-icon">🏥</text>
      <text class="login-title">专业上门医疗服务</text>
      <text class="login-desc">为您提供专业的上门健康监测和医疗服务</text>
      <button class="login-btn" bindtap="goToLogin">立即登录</button>
    </view>
  </view>

  <!-- 服务特色 -->
  <view class="features-section">
    <view class="section-title">服务特色</view>
    <view class="features-list">
      <view class="feature-item" wx:for="{{features}}" wx:key="index">
        <view class="feature-icon">
          <text class="feature-emoji">{{item.icon}}</text>
        </view>
        <view class="feature-content">
          <text class="feature-title">{{item.title}}</text>
          <text class="feature-desc">{{item.description}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 社区动态 -->
  <view class="community-section">
    <view class="section-header">
      <text class="section-title">社区动态</text>
      <text class="section-more" bindtap="goToCommunity">查看更多 ></text>
    </view>
    <view class="community-list">
      <view class="community-item" wx:for="{{communityPosts}}" wx:key="id" bindtap="viewPost" data-post="{{item}}">
        <view class="post-header">
          <text class="user-avatar">{{item.userAvatar}}</text>
          <view class="user-info">
            <text class="user-name">{{item.userName}}</text>
            <text class="post-time">{{item.createTime}}</text>
          </view>
        </view>
        <text class="post-content">{{item.content}}</text>
        <view class="post-images" wx:if="{{item.images && item.images.length > 0}}">
          <text class="post-image" wx:for="{{item.images}}" wx:for-item="img" wx:key="index">📷</text>
        </view>
        <view class="post-actions">
          <view class="action-item">
            <text class="iconfont icon-like"></text>
            <text class="action-count">{{item.likes}}</text>
          </view>
          <view class="action-item">
            <text class="iconfont icon-comment"></text>
            <text class="action-count">{{item.comments}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部间距 -->
  <view class="bottom-space"></view>
</view>